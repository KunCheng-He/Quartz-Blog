# 0-å®‰è£…ç³»ç»Ÿ

â˜ï¸ç³»ç»Ÿæˆ‘ä½¿ç”¨çš„æ˜¯ `fedora38` æœåŠ¡å™¨çš„ç‰ˆæœ¬ï¼Œä¸å®‰è£…æ¡Œé¢ï¼Œåªéœ€è¦å‘½ä»¤è¡Œï¼Œå®‰è£…è¿‡ç¨‹å¤§åŒå°å¼‚ï¼Œå”¯ç‹¬æ³¨æ„ä¸€ç‚¹ï¼Œæˆ‘æœ‰ä¸¤å—ç¡¬ç›˜ï¼Œä¸€ä¸ª128Gå›ºæ€ï¼Œä¸€ä¸ª1Tçš„æœºæ¢°ï¼Œæˆ‘çš„åˆæ­¥æ–¹æ¡ˆæ˜¯æŠŠ `/boot` å’Œ `/` æŒ‚è½½åˆ°å›ºæ€ä¸Šï¼Œè€Œæœºæ¢°ç¡¬ç›˜åˆ™å…¨éƒ¨æŒ‚è½½ `/home` ä¸‹ï¼Œåˆ†åŒºæ—¶ä½¿ç”¨æœ€é«˜çº§åˆ«çš„è‡ªå®šä¹‰ï¼Œå…ˆå°†åŸæœ‰åˆ†åŒºå…¨éƒ¨åˆ é™¤ï¼Œç„¶åå†åˆ†åŒºï¼Œæ–¹æ¡ˆå¦‚ä¸‹ï¼š

| åˆ†åŒº  | å¤§å°   | æ–‡ä»¶ç³»ç»Ÿ | æ ‡ç­¾        | æŒ‚è½½ç‚¹ |
| ----- | ------ | -------- | ----------- | ------ |
| /boot | 512M   | ext4     | boot        | /boot  |
| /     | è‡ªå®šä¹‰ | ext4     | fedora-root | /      |
| swap  | è‡ªå®šä¹‰ | swap     | swap        |        |
| /home | è‡ªå®šä¹‰ | ext4     | home        | /home  |

ğŸ¦„æŒ‰ç…§ä»¥ä¸Šæ–¹æ¡ˆåˆ†åŒºï¼Œå®‰è£…å®Œç³»ç»Ÿé‡å¯å³å¯ï¼Œé»˜è®¤ `ssh` æœåŠ¡æ˜¯å¼€å¯çš„ï¼Œå¯ä»¥ç›´æ¥è¿œç¨‹è¿æ¥ï¼Œå½“ç„¶ï¼Œå¦‚æœä½ ä½¿ç”¨è‡ªåŠ¨åˆ†é… `IP` çš„æ–¹å¼ï¼Œä½ éœ€è¦å…ˆæŸ¥çœ‹è®¾å¤‡çš„ `IP` æ˜¯å¤šå°‘ï¼Œä¹Ÿå¯ä»¥åœ¨è·¯ç”±å™¨é‡Œï¼Œç»™è¯¥è®¾å¤‡åˆ†é…ä¸€ä¸ªå›ºå®š `IP`

---

ğŸ§ å¦‚æœæœåŠ¡çš„ç³»ç»Ÿä½¿ç”¨çš„æ˜¯ `Ubuntu` ï¼Œç¨å¾®æ³¨æ„ä¸€ä¸‹éœ€è¦è®¾ç½®ä¸€ä¸‹æºï¼Œå¯ä»¥å‚è€ƒå®˜ç½‘è®¾ç½® [æ¸…åæº](https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/) ï¼Œåœ¨æœåŠ¡å™¨ç•Œé¢è®¾ç½®æ¸…åæºå¯¹åº”çš„ç½‘å€å³å¯ï¼Œå…¶ä»–æ²¡æœ‰å·®åˆ«ã€‚å…¶ä»–å†…å®¹å¯è§ [[å‘Â·Ubuntu Server]] ã€‚

# 1-åŸºæœ¬ç¯å¢ƒçš„æ­å»º

ğŸˆè¿›å…¥ç³»ç»Ÿåï¼Œé¦–å…ˆéœ€è¦å°†éœ€è¦çš„ä¸€äº›åŸºæœ¬ç¯å¢ƒæ­å»ºå¥½

+ ğŸƒ**æ¢æº**
	+ [[DnfåŒ…ç®¡ç†å™¨]] å‚è€ƒè¿™ä¸ªè¿›è¡Œæ¢æºå’Œä¸€äº›å‘½ä»¤çš„æ‰§è¡Œæ“ä½œ
+ ğŸ¥¶**æ›´æ”¹é»˜è®¤çš„** `shell`
	+ [[ğŸª„ServerÂ·é­”æ³•]] å› ä¸º `oh-my-zsh` çš„å®‰è£…éœ€è¦é­”æ³•ï¼Œæ‰€ä»¥è¿™é‡Œå…ˆé…ç½®é­”æ³•
	+ [[ğŸ˜Oh-My-Zsh]] æŒ‰ç…§è¿™ä¸ªé…ç½®å³å¯
+ ğŸ‹ `Docker` ä¸åŒç³»ç»Ÿçš„å®‰è£…æ–¹å¼å¯å‚è€ƒ [dockerå®˜ç½‘](https://docs.docker.com/engine/install/) ï¼Œå¸¸ç”¨çš„å‡ ä¸ªç³»ç»Ÿå¯ä»¥çœ‹ä¸‹æ–¹
	+ [[ğŸ‹DockerÂ·åŸºæœ¬ä½¿ç”¨]] 
	+ [DockerHub](https://hub.docker.com/)
+ ğŸ `Python` 
	+ é¦–æ¨ä½¿ç”¨ [miniconda](https://docs.conda.io/en/latest/miniconda.html) ï¼Œå…¶å®‰è£…æ¯”è¾ƒç®€å•ï¼Œä¸‹è½½ `sh` è„šæœ¬æ‰§è¡Œå³å¯ï¼Œè§‰å¾—å®‰è£…åœ¨å®¶ç›®å½•ä¸‹æ¯”è¾ƒç¢çœ¼ï¼Œå¯ä»¥æ›´æ”¹å®‰è£…ç›®å½•åˆ° `~/.myminiconda3` 
+ ğŸ–¥ï¸**æ˜¾å¡é©±åŠ¨**
	+ åŸæ–‡å‚è€ƒ[Fedora 38å®‰è£…nvidiaæ˜¾å¡é©±åŠ¨](https://zhuanlan.zhihu.com/p/627426276)ï¼Œä»¥ä¸‹æ˜¯æˆ‘è‡ªå·±çš„è®°å½•ï¼š[[ğŸ¬Fedora38Â·å®‰è£…Nå¡é©±åŠ¨]]

# 2-æœåŠ¡çš„æ­å»º

> æœåŠ¡çš„æ­å»ºåŸºæœ¬æ˜¯ä¸€å¥—é€šç”¨çš„æ¨¡æ¿ï¼Œåœ¨å®¿ä¸»æœºä¸Šæˆ–è€…ä½¿ç”¨dockeræ­å»ºå¥½æœåŠ¡ä¹‹åï¼Œå¼€å¯å¯¹åº”çš„ç«¯å£ï¼ŒåŸºæœ¬ä¸Šå°±å®Œæˆäº†ï¼Œå…¶ä¸­ä½¿ç”¨dockeræœ€ä¸ºæ–¹ä¾¿ï¼Œæˆ‘æš‚ç”¨çš„ä¸€äº›æœåŠ¡æˆ‘å†™æˆäº†ä¸€ä¸ªç»Ÿä¸€çš„ [[Docker Compose]] æ–‡ä»¶

## 2.1-sambaæœåŠ¡

ğŸ“‚å…ˆæŒ‡å®šä¸€ä¸ªå…±äº«æ–‡ä»¶å¤¹ï¼Œæˆ‘è¿™é‡Œå°±æ˜¯ `/home/user/NAS` ï¼Œç„¶åå°±æ˜¯æ‹‰å–é•œåƒå’Œåˆ›å»ºå®¹å™¨äº†ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š

```shell
# æ‹‰å»é•œåƒ
docker pull dperson/samba

# åˆ›å»ºå®¹å™¨
# -v å…±äº«ç›®å½•çš„æ˜ å°„
# -u ç”¨æˆ·å(nas)å’Œå¯†ç (nasnas)
# -s è¿™éƒ¨åˆ†å¦‚æœæƒ³æ”¾å®½æƒé™ï¼Œæ”¹ä¸ºyes;yes;yes
docker run -it --name samba \
-p 139:139 -p 445:445 \
-v /home/alchemy:/share \
-d --restart always dperson/samba \
-u "alchemy;byack89HKC" \
-s "alchemy;/share/;yes;no;no;alchemy;alchemy;alchemy"

# fedora åœ¨é˜²ç«å¢™ä¸Šå¼€å¯å¯¹åº”çš„æœåŠ¡
sudo firewall-cmd --add-service=samba --permanent
sudo firewall-cmd --add-service=samba-client --permanent
sudo firewall-cmd --reload
```

ğŸè¿™æ ·æœåŠ¡å°±æ­å»ºå®Œæˆäº†ï¼Œä¹‹ååœ¨windowé‡Œï¼Œé€‰æ‹©ç½‘ç»œï¼Œå³é”®æ˜ å°„ç½‘ç»œé©±åŠ¨å™¨

![[Pasted image 20230511180405.png]]

ä¹‹åè¾“å…¥è®¾ç½®å¥½çš„ç”¨æˆ·åå’Œå¯†ç å°±å¯ä»¥è®¿é—®äº†ğŸ‰

## 2.2-qbittorrent

ğŸ´ó °ó ´ó €³ó €°ó ¿è¯¥æœåŠ¡åŒæ ·ä½¿ç”¨ `docker` æ¥æ­å»ºï¼Œå¯ä»¥æ–°å»ºä¸€ä¸ªç©ºç›®å½•ï¼Œè¿›å…¥è¯¥ç›®å½•ååˆ›å»º `docker-compose.yml` æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

```yml
version: "2.1"
services:
  qbittorrent:
    image: linuxserver/qbittorrent
    container_name: qbittorrent
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Asia/Shanghai
      - WEBUI_PORT=10101
    volumes:
      - /home/alchemy/nas/pt/config:/config
      - /home/alchemy/nas/è§†é¢‘:/downloads
    ports:
      - 10101:10101
      - 6881:6881
      - 6881:6881/udp
    restart: unless-stopped
```

ğŸ©´å…¶ä¸­ `TZ` è®¾ç½®äº†æ—¶åŒºï¼Œ`WEBUI_PORT` è®¾ç½®äº†ç½‘é¡µç•Œé¢çš„ç«¯å£ï¼Œè¿™é‡Œéœ€è¦å’Œ `ports` é‡Œä¿æŒä¸€è‡´ï¼Œ`volumes` é‡Œå°±æ˜¯æ–‡ä»¶å¤¹çš„æ˜ å°„ä½ç½®ï¼Œæ ¹æ®è‡ªå·±çš„éœ€æ±‚æ›´æ”¹å³å¯ï¼Œä½¿ç”¨å‘½ä»¤çš„ç‰ˆæœ¬å¦‚ä¸‹ï¼š

```shell
docker run -d \
--name=qbittorrent \
-e PUID=1000 -e PGID=1000 \
-e TZ=Asia/Shanghai -e WEBUI_PORT=40001 \
-p 40001:40001 -p 6881:6881 -p 6881:6881/udp \
-v /home/alchemy/Documents/qbconfig:/config \
-v /home/alchemy/Videos/PT/mov:/downloads \
--restart always linuxserver/qbittorrent
```

> ğŸ†**é‡ç‚¹**ï¼šports é‡Œè®¾ç½®çš„ 6881 è¿™ä¸ªæ–‡ä»¶é‡Œå°±ä¸æ”¹äº†ï¼Œè¿™æ˜¯åšç§æ—¶æ•°æ®ä¼ è¾“çš„ç«¯å£ï¼Œæœ‰äº›PTç«™ç‚¹å°†è¿™äº›ç«¯å£ç¦äº†ï¼Œè¿™ä¸ªåé¢å¯ä»¥åˆ° web ç•Œé¢é‡Œè¿›è¡Œæ›´æ”¹ï¼Œåªéœ€ç¡®ä¿æ›´æ”¹è¿‡åçš„ç«¯å£åœ¨é˜²ç«å¢™é‡Œæ˜¯æ‰“å¼€çš„å³å¯
> 
> ğŸ† **å°å‘**ï¼šå»ºè®®ä½¿ç”¨ `sudo chmod 755 -R ~/nas/è§†é¢‘` å¼€å¯å…±äº«æ–‡ä»¶å¤¹åŠå…¶æ‰€æœ‰å­æ–‡ä»¶å¤¹çš„æ‰€æœ‰æƒé™

ä»¥ä¸Šæ–‡ä»¶åˆ›å»ºå®Œæˆï¼Œå³å¯é€šè¿‡ `docker-compose` åˆ›å»ºå®¹å™¨äº†ï¼Œå¦‚æœæ²¡æœ‰å®‰è£… `docker-compose` ï¼Œå®‰è£…ä¸€ä¸‹å³å¯ï¼š

```shell
# åˆ›å»ºå®¹å™¨
docker-compose up -d

# å¼€å¯éœ€è¦çš„ç«¯å£
# 6881-6882æ˜¯é»˜è®¤çš„ï¼Œæˆ‘ç”¨çš„PTç«™ç”¨ä¸äº†
sudo firewall-cmd --add-port=10101/tcp --permanent
sudo firewall-cmd --add-port=6881-6882/tcp --permanent
sudo firewall-cmd --add-port=6881-6882/udp --permanent
sudo firewall-cmd --reload
```

ä¹‹åè¿›å…¥ `ip:10101` å³å¯ï¼Œé»˜è®¤çš„ç”¨æˆ·ä¸º `admin` ï¼Œå¯†ç ä¸º `adminadmin` ï¼Œç™»å½•ä¹‹åå¯ä»¥è¿›å…¥è®¾ç½®æ›´æ”¹**ç•Œé¢è¯­è¨€**ã€**ç›‘å¬ç«¯å£**ã€**ç”¨æˆ·å¯†ç **ã€‚åˆ°è¿™å°±æ­å»ºå®Œæˆäº†ğŸ‰

## 2.3-FileBrowser

ğŸ›¢ï¸è¿™æ ·çš„æœåŠ¡æœ‰å¾ˆå¤šï¼Œå¯ä»¥æœ `nextcloud` ã€ `Seafile` ã€ `å¯é“äº‘` ç­‰çœ‹çœ‹ï¼Œè¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯ `File Browser` ï¼Œå¯[å‚è€ƒæ–‡æ¡£](https://filebrowser.org/installation#docker) ï¼Œæˆ‘çš„éƒ¨ç½²æœåŠ¡å¦‚ä¸‹ï¼š

```shell
# æ‹‰å–é•œåƒ
docker pull filebrowser/filebrowser

# åˆ›å»ºå®¹å™¨
# -v æŒ‡å®šæ˜ å°„çš„æ–‡ä»¶å¤¹è·¯å¾„
# -p æŒ‡å®šæ˜ å°„ç«¯å£
docker run -d \
    -v /home/alchemy/NAS:/srv \
    -p 10103:80 \
    --name filebrowser \
    --restart always \
    filebrowser/filebrowser

# å¼€å¯å¯¹åº”ç«¯å£çš„é˜²ç«å¢™
sudo firewall-cmd --add-port=10103/tcp --permanent
sudo firewall-cmd --reload
```

è¿™æ—¶å°±å¯ä»¥æ‰“å¼€æµè§ˆå™¨å¯¹åº”çš„ç«¯å£è®¿é—®è¯¥æœåŠ¡äº†ï¼Œ**é»˜è®¤ç”¨æˆ·åå’Œå¯†ç ** éƒ½æ˜¯ `admin` ï¼Œç™»å½•åï¼Œå¯ä»¥åœ¨è®¾ç½®ä¸­æ›´å…·éœ€æ±‚è¿›è¡Œç›¸åº”çš„è®¾ç½®ï¼Œå¦‚æ›´æ”¹è¯­è¨€ã€å…è®¸æ³¨å†Œç”¨æˆ·ã€è®¾ç½®ç”¨æˆ·æƒé™ç­‰

> âŒ **ç¦ç”¨æ™®é€šç”¨æˆ·å¯¹éƒ¨åˆ†æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹çš„è®¿é—®æƒé™**ï¼šå¯ä»¥è®¾ç½®å…¨å±€è§„åˆ™ï¼Œæ·»åŠ è·¯å¾„å³å¯ï¼Œæœ€å¼€å§‹çš„è·¯å¾„å°±æ˜¯ `/` è·¯å¾„

## 2.4-FileRun

`FileBrowser` ä¸èƒ½åœ¨çº¿é¢„è§ˆ `mp4` æ–‡ä»¶ï¼Œ`FileRun` æ˜¯å¯ä»¥çš„ã€‚å‚è€ƒ [å®˜æ–¹æ–‡æ¡£](https://docs.filerun.com/docker) ï¼Œå°±å¯ä»¥ç®€å•çš„éƒ¨ç½²äº†ã€‚

> å¦‚æœéƒ¨ç½²å®Œæˆï¼Œè¿›å…¥é¡µé¢åï¼Œæ²¡æœ‰æ˜¾ç¤ºé»˜è®¤çš„ç®¡ç†å‘˜ç”¨æˆ·åå’Œå¯†ç ï¼Œé‚£ä¹ˆä½¿ç”¨ `superuser` è¿›è¡Œç™»å½•ï¼Œç”¨æˆ·åå’Œå¯†ç éƒ½æ˜¯è¿™ä¸ª

## 2.5-Jellyfin

å®¶åº­å½±é™¢ **ï¼ˆç¡¬è§£æ­»æ´»æ²¡æŠ˜è…¾æˆåŠŸï¼Œæ”¾å¼ƒäº†ï¼Œç”¨è½¯è§£ä¹Ÿèƒ½ç”¨ï¼‰**

```shell
version: "3"
services:
	jellyfin:  
		image: nyanmisaka/jellyfin
		container_name: jellyfin
		ports:
      - 40002:8096
		volumes:
			- /home/alchemy/Documents/jellyfin/config:/config  
			- /home/alchemy/Documents/jellyfin/cache:/cache  
			- /home/alchemy/Videos/PT/link/video:/media
		extra_hosts:
		  - "api.themoviedb.org:13.32.164.73"
		  - "api.themoviedb.org:13.32.164.97"
		  - "api.themoviedb.org:13.32.164.98"
		  - "api.themoviedb.org:13.32.164.124"
		  - "api.tmdb.org:18.160.41.31"
		  - "api.tmdb.org:18.160.41.40"
		  - "api.tmdb.org:18.160.41.52"
		  - "api.tmdb.org:18.160.41.88"
		restart: unless-stopped
```

ä½¿ç”¨å‘½ä»¤å¦‚ä¸‹

```shell
docker run -d \
--name jf2 --user 1000:1000 \
-p 40002:8096 \
--volume /home/alchemy/Documents/jf2/config:/config \
--volume /home/alchemy/Documents/jf2/cache:/cache \
--mount type=bind,source=/home/alchemy/Videos/PT/link/video,target=/media \
--restart=unless-stopped \
nyanmisaka/jellyfin
```

## 2.6-nastools

ï¼ˆğŸ’¥ å·²ç»æ”¾å¼ƒè¯¥å·¥å…·ï¼Œç½‘ç»œé—®é¢˜ä¸ç¨³å®šï¼Œè§£å†³ä¸äº†ï¼Œè€Œä¸”æˆ‘ä¸å¤ªéœ€è¦è‡ªåŠ¨åˆ·æµï¼Œæ–‡ä»¶ç¡¬é“¾æ¥å¯ä»¥è‡ªå·±è§£å†³ï¼Œåˆ®å‰Šçš„é—®é¢˜äº¤ç»™ `jellyfin` å°±å¯ä»¥äº†ï¼‰è‡ªåŠ¨çš„å½±éŸ³ä¿¡æ¯åˆ®å‰Šå·¥å…·ï¼Œéœ€è¦ä¸€äº› `BTç«™ç‚¹` çš„è®¤è¯ï¼Œè¿™ä¸ªæš‚æ—¶è¿˜æ²¡è§£å†³ï¼Œå¯ä»¥åç»­ç­‰å¼€æ”¾æ—¥è¿›è¡Œæ³¨å†Œï¼Œå¯åŠ¨çš„å‘½ä»¤å¦‚ä¸‹

```shell
docker run -d \
--name nas-tools \
--hostname nas-tools \
-p 40003:3000 \
-v /home/alchemy/Documents/ntoolsconfig:/config \
-v /home/alchemy/Videos/PT:/media \
-e PUID=1000 -e PGID=1000 \
-e NASTOOL_AUTO_UPDATE=false \
-e NASTOOL_CN_UPDATE=false \
--restart always nastool/nas-tools
```

## 2.7-dashdot

ï¼ˆğŸ’¥å…¶å®æ²¡å•¥ç”¨äº†ï¼Œåé¢ç”¨ `1Panel` ä»£æ›¿å¥½äº†ï¼‰è¿™æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„æœåŠ¡å™¨ä»ªè¡¨ç›˜ï¼Œå¯ä»¥çœ‹åˆ°å­˜å‚¨ã€CPUã€å†…å­˜ã€ç½‘ç»œç­‰åŸºæœ¬ï¼ˆå®æ—¶ï¼‰ä¿¡æ¯

```shell
docker run -it \
-p 40004:3001 \
-v /etc/os-release:/etc/os-release:ro \
-v /proc/1/ns/net:/mnt/host_ns_net:ro \
--restart always \
-d mauricenino/dashdot
```

## 2.8 MT Photos

ä¸€ä¸ªç…§ç‰‡ç®¡ç†æœåŠ¡

```bash
docker run -d \
  --name="mt-photos" \
  -v /home/alchemy/Pictures/MT/config:/config \
  -v /home/alchemy/Pictures/MT/upload:/upload \
  -p 40005:8063 \
  -e TZ="Asia/Shanghai" \
  --restart="unless-stopped" \
  mtphotos/mt-photos
```

## 2.9 1Panel

æˆ‘çš„ç†è§£å°±æ˜¯å®å¡”çš„ä¸€ä¸ªå›½äº§æ›¿ä»£ç‰ˆæœ¬ï¼Œè¯´æ˜¯åŸºäº `docker` çš„ï¼Œé¡¹ç›®åœ°å€ï¼š[Github](https://github.com/1Panel-dev/1Panel) ï¼Œå®‰è£…æ¯”è¾ƒç®€å•ï¼Œæ‰§è¡Œè„šæœ¬å°±è¡Œï¼Œä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ç”¨ `zsh` ï¼Œæ‰€ä»¥å®˜æ–¹å‘½ä»¤æˆ‘æ”¹äº†ä¸€ç‚¹ï¼š

```shell
curl -sSL https://resource.fit2cloud.com/1panel/package/quick_start.sh -o quick_start.sh && sudo sh quick_start.sh
```

# 3-WireGuard

`WireGuard` ç›¸å½“äºè‡ªå»ºäº†ä¸€ä¸ªå±€åŸŸç½‘ï¼Œæƒ³è¦è®¿é—®ç½‘ç»œä¸­çš„è®¾å¤‡ï¼Œæˆ‘ä»¬åªéœ€è¦åŠ å…¥è¯¥å±€åŸŸç½‘å³å¯ï¼Œä¸ºäº†ä¿è¯æœ‰ä¸€ä¸ªèŠ‚ç‚¹èƒ½å¤Ÿç›´æ¥è®¿é—®åˆ°ï¼Œç›¸å½“äºæµé‡çš„ä¸­è½¬ç«™ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨äº‘æœåŠ¡å™¨ä¸Šæ­å»ºè¿™ä¸ªä¸­å¿ƒèŠ‚ç‚¹ï¼Œä½¿ç”¨dockeræ­å»ºååˆ†ç®€å•

```shell
# åˆ›å»ºå®¹å™¨
docker run -d \
  --name=wg-easy \
  -e WG_HOST=123.123.123.123 (ğŸš¨è¿™é‡Œè¾“å…¥æœåŠ¡å™¨çš„å…¬ç½‘IP) \
  -e PASSWORD=passwd123 (ğŸš¨è¿™é‡Œè¾“å…¥ä½ çš„å¯†ç ) \
  -e WG_DEFAULT_ADDRESS=10.0.8.x ï¼ˆğŸš¨é»˜è®¤IPåœ°å€ï¼‰\
  -e WG_DEFAULT_DNS=114.114.114.114 ï¼ˆğŸš¨é»˜è®¤DNSï¼‰\
  -e WG_ALLOWED_IPS=10.0.8.0/24 ï¼ˆğŸš¨å…è®¸è¿æ¥çš„IPæ®µï¼‰\
  -e WG_PERSISTENT_KEEPALIVE=25 ï¼ˆğŸš¨é‡è¿é—´éš”ï¼‰\
  -v ~/.wg-easy:/etc/wireguard \
  -p 51820:51820/udp \
  -p 51821:51821/tcp \
  --cap-add=NET_ADMIN \
  --cap-add=SYS_MODULE \
  --sysctl="net.ipv4.conf.all.src_valid_mark=1" \
  --sysctl="net.ipv4.ip_forward=1" \
  --restart unless-stopped \
  weejewel/wg-easy
```

æ ¹æ®å®é™…æƒ…å†µå¯¹ä¸Šæ–¹å°±è¡Œä¿®æ”¹å³å¯ï¼Œå¯ä»¥åªæ”¹ `WG_HOST` ï¼Œå…¶ä½™é»˜è®¤å³å¯ï¼Œä½†éœ€è¦å°†å¤šä½™çš„éƒ¨åˆ†åˆ é™¤ä¹‹åå†æ‰§è¡Œã€‚ä¹‹ååœ¨äº‘æœåŠ¡å™¨çš„é˜²ç«å¢™ç®¡ç†ç•Œé¢ï¼Œæ‰“å¼€ `51820/udp` å’Œ `51821/tcp` è¿™ä¸¤ä¸ªç«¯å£ï¼Œæ³¨æ„åè®®çš„ä¸åŒï¼Œæ‰“å¼€åå°±å¯ä»¥é€šè¿‡ `51821` è®¿é—®åå°ç®¡ç†ç•Œé¢ï¼Œä¹‹åæœ‰æ–°çš„è®¾å¤‡éœ€è¦åŠ å…¥æ—¶ï¼Œåœ¨ç®¡ç†ç•Œé¢æ·»åŠ å³å¯ã€‚

æœ€åè®²ä¸€ä¸‹ä½¿ç”¨å®¢æˆ·ç«¯çš„ä½¿ç”¨ï¼Œæ™®é€šè®¾å¤‡åˆ° [ä¸‹è½½é¡µé¢](https://www.wireguard.com/install) ä¸‹è½½å¯¹åº”çš„å®¢æˆ·ç«¯å³å¯ï¼ŒæœåŠ¡å™¨ä¸Šï¼Œå¦‚æˆ‘ç°æœ‰çš„ `fedora` æœ¬åœ°æœåŠ¡å™¨ï¼Œè¦åŠ å…¥ç½‘ç»œï¼Œä¹Ÿå…ˆåœ¨ç®¡ç†é¡µé¢æ·»åŠ è®¾å¤‡ï¼Œç„¶åä¸‹è½½ `*.conf` çš„é…ç½®æ–‡ä»¶ï¼Œä¹‹åï¼š

```shell
# å®‰è£…å®¢æˆ·ç«¯
sudo dnf install wireguard-tools

# ä½¿ç”¨ç®¡ç†å‘˜æƒé™å°†ä¸‹è½½çš„é…ç½®æ–‡ä»¶ç§»åŠ¨åˆ° /etc/wireguard æ–‡ä»¶å¤¹ä¸‹
# ä½¿ç”¨ncæ¢æµ‹ç«¯å£æ˜¯å¦é€šäº†
# æ¢æµ‹çš„IPå’Œç«¯å£å°±æ˜¯é…ç½®æ–‡ä»¶çš„æœ€åä¸€è¡Œ
nc -vuz xx.xx.xx.xx 51820

# é€šäº†å°±å¯ä»¥å¯åŠ¨äº†(* æ˜¯ä½ é…ç½®æ–‡ä»¶çš„åç§°)
wg-quick up *
# å…³é—­åˆ™æ˜¯
wg-quick down *

# æŸ¥çœ‹è¿æ¥çŠ¶å†µå¹¶æµ‹è¯•æ˜¯å¦å¯ä»¥è®¿é—®åˆ°Serverç«¯çš„ç½‘ç»œ
sudo wg show
```
